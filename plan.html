<!doctype html>
<html>
<head>
    <meta charset="cp1251">
    <title>GetFavIcon</title>
    <script src="../../web/planlist/planlist.js"></script>
</head>
<body class="make_plan">


 + 1.
   + Искать наиболее подходящий размер (с учетом приоритетов)
   + Перекодировать размер и формат, возвращать соответствующий Content-Type
   + Генерировать иконку с ошибкой
   + рисовать различные коды 400, 404, 500
   + прикрутить image4j для поддержки ico файлов
   + разбирать все иконки с сайта
   + кэш
   + протестить
   + создать проект на heroku
 - 2.
   + HTTP: connection/socket timeout, User-Agent, Redirects, Referer
   + игнорить www, иначе у нас повторное кеширование доменов получается
   + разбить код на логические части
   + дефолтную страницу со справкой
   + опция для оформления кнопки с иконкой
   + замена белого фона на альфа
   + SVG (metro.yandex.ru)
   + Сервисы Яндекса, Гугла и Мейла
   - доставать favicon по дефолту
   - favicon для самого сервиса
   - проверить, часто ли бывают png под видом ico (например, bing.com) - EOFException, которые кидает image4j - тогда можно пофиксить одной строчкой, jdk должен разобрать
 - 3.
   - httpclient бы неплохо прикрутить - лишнее соединение устанавливаться не будет
   - версии сайта http и https могут параллельно висеть в кэше - не хорошо
   - запостить баг в svgsalamander
   - SVG имеет размер - нужно поддерживать их несколько и выбирать лучший, вместе с не векторными изображения
   - стили для дефолтной страницы-справки
   - выбрать шрифт (положить, если нестандартный), установить правильную высоту и descending
   - опцию: выводить ошибки в текстовом виде (для статуса не 200)
   - опцию для дебага, показывающую для каждого домена найденные URL, статусы загрузки, размеры, формат
   ^ еще бы дамп памяти не плохо и возможно времени загрузки процессора
   ? стоит ли держать изображения больше 1000x1000 в памяти?


</body>
</html>